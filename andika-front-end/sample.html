<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>{{ course.title }} - AndikaKode</title>
<link rel="stylesheet" href="{% static 'css/style.css' %}">
<script src="https://cdn.jsdelivr.net/npm/skulpt@1.2.0/skulpt.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/skulpt@1.2.0/skulpt-stdlib.js"></script>
</head>
<body>

<div class="course-container">
<!-- Course Title and Description -->
<header class="course-header">
<h1>{{ course.title }}</h1>
<p class="course-description">{{ course.description }}</p>
</header>

<!-- Embedded Video -->
<div class="course-video">
<iframe width="100%" height="400"
src="{{ course.video_link|replace:'watch?v=','embed/' }}"
frameborder="0" allowfullscreen>
</iframe>
</div>

<!-- Goals -->
<section class="course-goals">
<h2>What You'll Learn</h2>
<ul>
{% for goal in course.goals %}
<li>‚úÖ {{ goal }}</li>
{% endfor %}
</ul>
</section>

<!-- Topics -->
<section class="course-topics">
<h2>Topics Covered</h2>
<ul>
{% for topic in course.topics %}
<li>üìò {{ topic }}</li>
{% endfor %}
</ul>
</section>

<!-- Activities -->
<section class="course-activities">
<h2>Activities</h2>
<ul>
{% for activity in course.activities %}
<li>üéØ {{ activity }}</li>
{% endfor %}
</ul>
</section>

<!-- Exercises and Skulpt Code Playground -->
<section class="course-exercises">
<h2>Try it Yourself!</h2>
<p class="instructions">Complete this exercise below:</p>

<!-- Skulpt Code Editor -->
<textarea id="code" rows="10" style="width:100%; border-radius: 6px; padding: 10px;">
# Write your Python code here
print("Hello, AndikaKode!")
</textarea>
<br><br>
<button onclick="runSkulptCode()" class="btn">Run Code ‚ñ∂Ô∏è</button>
<pre id="output" style="background:#f4f4f4; padding:10px; margin-top:10px;"></pre>
</section>

<!-- Navigation Actions -->
<div class="course-actions">
<button class="btn btn-complete">Mark as Complete</button>
<a href="{% url 'next_lesson' course.id %}" class="btn btn-next">Next Lesson ‚û°Ô∏è</a>
</div>
</div>

<!-- Skulpt JS Logic -->
<script>
function outf(text) {
const output = document.getElementById("output");
output.innerHTML += text;
}

function runSkulptCode() {
let prog = document.getElementById("code").value;
document.getElementById("output").innerHTML = ""; // clear output
Sk.configure({ output: outf, read: builtinRead });
Sk.misceval.asyncToPromise(function() {
return Sk.importMainWithBody("<stdin>", false, prog, true);
}).catch(function(err) {
outf(err.toString());
});
}

function builtinRead(x) {
if (Sk.builtinFiles === undefined || Sk.builtinFiles["files"][x] === undefined) {
throw "File not found: '" + x + "'";
}
return Sk.builtinFiles["files"][x];
}
</script>

</body>
</html>


<!-- course = Course.objects.filter(Course.title == "Introduction to Python: Chapter 1 - Getting Started")
    return render(request, "app/courses.html", {"course": course}) -->